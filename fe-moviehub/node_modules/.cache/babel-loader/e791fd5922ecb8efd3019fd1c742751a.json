{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\adnak\\\\Downloads\\\\NWT-projekat\\\\fe-moviehub\\\\src\\\\Components\\\\Login\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Link, useHistory } from \"react-router-dom\";\nimport { Form, Input, Button, Checkbox, message } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport { registerUrl } from \"../../utilities/appUrls\";\nimport { login } from \"../../Api/User/auth\";\nimport { getRememberInfo, removeRememberInfo, setRememberInfo, setSession } from \"../../utilities/localStorage\";\nimport { useUserContext } from \"../../AppContext\";\nimport \"./Login.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const history = useHistory();\n  const {\n    setLoggedIn\n  } = useUserContext();\n  const rememberInfo = getRememberInfo();\n  const [loading, setLoading] = useState(false);\n\n  const onFinish = async values => {\n    try {\n      setLoading(true);\n      const response = await login(values);\n      message.success(\"Successfully logged in\");\n      setLoading(false);\n      setSession(response);\n\n      if (values.remember) {\n        setRememberInfo(values.username, values.password);\n      } else {\n        removeRememberInfo();\n      }\n\n      history.goBack();\n      setLoggedIn(true);\n    } catch (error) {\n      setLoading(false);\n      message.warning(error.response.data.message);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-title\",\n      children: \"LOGIN\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      name: \"basic-login\",\n      initialValues: {\n        username: rememberInfo === null || rememberInfo === void 0 ? void 0 : rememberInfo.username,\n        password: rememberInfo === null || rememberInfo === void 0 ? void 0 : rememberInfo.password,\n        remember: true\n      },\n      size: \"large\",\n      onFinish: onFinish,\n      children: [/*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"username\",\n        rules: [{\n          required: true,\n          message: 'Please input your username!'\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {\n            className: \"site-form-item-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 33\n          }, this),\n          placeholder: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: \"password\",\n        rules: [{\n          required: true,\n          message: 'Please input your password!'\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {\n          prefix: /*#__PURE__*/_jsxDEV(LockOutlined, {\n            className: \"site-form-item-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 33\n          }, this),\n          type: \"password\",\n          placeholder: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        children: /*#__PURE__*/_jsxDEV(Form.Item, {\n          name: \"remember\",\n          valuePropName: \"checked\",\n          noStyle: true,\n          children: /*#__PURE__*/_jsxDEV(Checkbox, {\n            children: \"Remember me\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Form.Item, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          loading: loading,\n          type: \"primary\",\n          htmlType: \"submit\",\n          id: \"login-form-button\",\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), \"Or \", /*#__PURE__*/_jsxDEV(Link, {\n          to: registerUrl,\n          children: \"register now!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 24\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"BnM8rjHGzsHV+gWmcoCGLN7j/c4=\", false, function () {\n  return [useHistory, useUserContext];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["C:/Users/adnak/Downloads/NWT-projekat/fe-moviehub/src/Components/Login/index.js"],"names":["React","useState","Link","useHistory","Form","Input","Button","Checkbox","message","UserOutlined","LockOutlined","registerUrl","login","getRememberInfo","removeRememberInfo","setRememberInfo","setSession","useUserContext","Login","history","setLoggedIn","rememberInfo","loading","setLoading","onFinish","values","response","success","remember","username","password","goBack","error","warning","data","required"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { Form, Input, Button, Checkbox, message } from 'antd';\r\nimport {UserOutlined, LockOutlined} from '@ant-design/icons';\r\nimport { registerUrl } from \"../../utilities/appUrls\";\r\nimport { login } from \"../../Api/User/auth\";\r\nimport { getRememberInfo, removeRememberInfo, setRememberInfo, setSession } from \"../../utilities/localStorage\";\r\nimport { useUserContext } from \"../../AppContext\";\r\n\r\nimport \"./Login.scss\";\r\n\r\nconst Login = () => {\r\n    const history = useHistory();\r\n    const { setLoggedIn } = useUserContext();\r\n    const rememberInfo = getRememberInfo();\r\n\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const onFinish = async (values) => {\r\n        try {\r\n            setLoading(true);\r\n            const response = await login(values);\r\n            message.success(\"Successfully logged in\");\r\n            setLoading(false);\r\n            setSession(response);\r\n            if (values.remember) {\r\n                setRememberInfo(values.username, values.password);\r\n            } else {\r\n                removeRememberInfo();\r\n            }\r\n            history.goBack();\r\n            setLoggedIn(true);\r\n        } catch (error) {\r\n            setLoading(false);\r\n            message.warning(error.response.data.message);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"login-container\">\r\n            <div className=\"login-title\">\r\n                LOGIN\r\n            </div>\r\n            <Form\r\n                name=\"basic-login\"\r\n                initialValues={{username: rememberInfo?.username, password: rememberInfo?.password, remember: true }}\r\n                size=\"large\"\r\n                onFinish={onFinish}\r\n            >\r\n                <Form.Item\r\n                    name=\"username\"\r\n                    rules={[{required: true, message: 'Please input your username!'}]}\r\n                >\r\n                    <Input\r\n                        prefix={<UserOutlined className=\"site-form-item-icon\"/>}\r\n                        placeholder=\"Username\"\r\n                    />\r\n                </Form.Item>\r\n\r\n                <Form.Item\r\n                    name=\"password\"\r\n                    rules={[{required: true, message: 'Please input your password!'}]}\r\n                >\r\n                    <Input\r\n                        prefix={<LockOutlined className=\"site-form-item-icon\"/>}\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                    />\r\n                </Form.Item>\r\n\r\n                <Form.Item>\r\n                    <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\r\n                        <Checkbox>Remember me</Checkbox>\r\n                    </Form.Item>\r\n                </Form.Item>\r\n\r\n                <Form.Item>\r\n                    <Button loading={loading} type=\"primary\" htmlType=\"submit\" id=\"login-form-button\">\r\n                        Log in\r\n                    </Button>\r\n                    Or <Link to={registerUrl}>register now!</Link>\r\n                </Form.Item>\r\n            </Form>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}